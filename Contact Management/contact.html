<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Management - ConstructPro</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Contact CSS -->
    <link rel="stylesheet" href="contact.css">
    <style>
        /* Toast styles for logout */
        .toast {
            position: fixed;
            top: 24px;
            right: 24px;
            padding: 14px 18px;
            border-radius: 12px;
            background: #111827;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            z-index: 9999;
            animation: slideIn 0.4s ease;
        }

        .toast.success {
            border-left: 4px solid #22c55e;
        }

        .toast.error {
            border-left: 4px solid #ef4444;
        }

        .toast.info {
            border-left: 4px solid #3b82f6;
        }

        .toast.warning {
            border-left: 4px solid #f59e0b;
        }

        @keyframes slideIn {
            from {
                transform: translateX(120%);
            }

            to {
                transform: translateX(0);
            }
        }

        .toast-icon {
            font-size: 18px;
        }

        .toast-success .toast-icon {
            color: #22c55e;
        }

        .toast-error .toast-icon {
            color: #ef4444;
        }

        .toast-info .toast-icon {
            color: #3b82f6;
        }

        .toast-warning .toast-icon {
            color: #f59e0b;
        }

        .toast-message {
            margin: 0;
            font-size: 14px;
        }
    </style>
</head>

<body class="bg-gray-50 font-sans">
    <!-- Admin Panel Container -->
    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <aside class="sidebar">

            <!-- Logo -->
            <div class="sidebar-logo">
                <img src="../logo.png" alt="KunashMedia Logo" class="sidebar-logo-img">
            </div>

            <!-- Navigation -->
            <nav class="sidebar-nav">
                <a href="../Banner Management/banner.html" class="sidebar-item">
                    <i class="fas fa-images"></i>
                    <span>Banner Management</span>
                </a>

                <a href="../Career Management/career.html" class="sidebar-item">
                    <i class="fas fa-briefcase"></i>
                    <span>Career Management</span>
                </a>

                <a href="../Project Management/project.html" class="sidebar-item">
                    <i class="fas fa-project-diagram"></i>
                    <span>Project Management</span>
                </a>

                <a href="contact.html" class="sidebar-item active">
                    <i class="fas fa-envelope"></i>
                    <span>Contact Management</span>
                </a>

                <!-- Divider after Contact Management -->
                <div class="sidebar-divider"></div>

                <!-- Logout -->
                <a href="javascript:void(0)" class="sidebar-item logout-item" onclick="showLogoutConfirm()">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </a>

                <!-- Toggle Button inside sidebar -->
                <div class="sidebar-toggle-container">
                    <button class="sidebar-toggle">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                </div>
            </nav>
        </aside>

        <!-- Logout Confirmation Modal -->
        <div class="modal-overlay" id="logoutModal">
            <div class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="modal-icon">
                            <i class="fas fa-sign-out-alt"></i>
                        </div>
                        <div class="modal-title">
                            <h3>Logout</h3>
                            <p>Are you sure you want to logout?</p>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button class="btn-secondary" onclick="closeLogoutModal()">Cancel</button>
                        <button class="btn-danger" onclick="performLogout()">Yes, Logout</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Header -->
            <header class="main-header">
                <div class="header-left">
                    <h1 class="page-title" id="pageTitle">Contact Management</h1>
                    <p class="page-subtitle">Manage incoming enquiries & leads</p>
                </div>

                <div class="header-right">
                    <button class="header-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-dot"></span>
                    </button>

                    <div class="profile">
                        <div class="profile-info">
                            <p class="profile-name">Admin User</p>
                            <p class="profile-role">Administrator</p>
                        </div>
                        <div class="profile-avatar"></div>
                    </div>
                </div>
            </header>

            <!-- Contact Content Area -->
            <div class="content-area" id="contentArea">
                <!-- Content loads dynamically -->
            </div>
        </main>
    </div>

    <!-- Delete Modal -->
    <div class="modal-overlay" id="deleteModal">
        <div class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="modal-title">
                        <h3>Delete Enquiry</h3>
                        <p>Are you sure? This action cannot be undone.</p>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn-secondary" onclick="uiManager.closeModal()">Cancel</button>
                    <button class="btn-danger" onclick="uiManager.confirmDelete()">Delete Enquiry</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer"></div>

    <!-- Contact JS -->
    <script src="contact.js"></script>
    
    <!-- Logout JS -->
    <script>
        // Logout functionality
        function showLogoutConfirm() {
            document.getElementById("logoutModal").classList.add("show");
        }

        function closeLogoutModal() {
            document.getElementById("logoutModal").classList.remove("show");
        }

        function performLogout() {
            // Show logout toast message
            showToast("Logging out...", "info");
            
            // Close the modal
            closeLogoutModal();
            
            // Wait for toast to show, then redirect to login
            setTimeout(() => {
                // Clear any session data (if needed)
                // localStorage.removeItem('admin_token');
                // sessionStorage.clear();
                
                // Redirect to login page
                window.location.href = "../index.html";
            }, 1200);
        }

        // Toast notification function
        function showToast(message, type = "info") {
            const toast = document.createElement("div");
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <i class="fas ${type === "success" ? "fa-check-circle text-green-400" : 
                                 type === "error" ? "fa-circle-exclamation text-red-400" :
                                 type === "warning" ? "fa-exclamation-triangle text-yellow-400" :
                                 "fa-info-circle text-blue-400"}"></i>
                <span>${message}</span>
            `;
            
            const toastContainer = document.getElementById("toastContainer");
            if (!toastContainer) {
                const container = document.createElement("div");
                container.id = "toastContainer";
                container.style.position = "fixed";
                container.style.top = "24px";
                container.style.right = "24px";
                container.style.zIndex = "9999";
                document.body.appendChild(container);
            }
            
            document.getElementById("toastContainer").appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        // Close modal when clicking outside
        document.addEventListener('DOMContentLoaded', function() {
            const logoutModal = document.getElementById('logoutModal');
            
            logoutModal.addEventListener('click', function(e) {
                if (e.target === logoutModal) {
                    closeLogoutModal();
                }
            });
            
            // Close modal with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && logoutModal.classList.contains('show')) {
                    closeLogoutModal();
                }
            });
        });
    </script>
</body>

</html>